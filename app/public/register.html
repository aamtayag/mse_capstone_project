<!-- register.html -->
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>SafeRoads Navigator User Registration</title>
      <!-- Use Bootstrap 5 and Google Fonts -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap" rel="stylesheet">
   </head>
   <body class="bg-light" style="font-family:'Inter',Arial,sans-serif;">
   <div class="container d-flex flex-column min-vh-100 justify-content-center align-items-center">
      <div class="card shadow-lg p-4 border-0 rounded-4" style="max-width: 400px; width: 100%;">
         <div class="text-center mb-4">
            <span class="d-inline-block rounded-circle p-2 mb-2" style="background:#e8f6fe;">
               <svg width="28" height="28" fill="none" viewBox="0 0 24 24" style="vertical-align:middle">
                  <circle cx="12" cy="12" r="10" fill="#44c0f7"/>
                  <path d="M8 13l3 3 5-5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
               </svg>
            </span>
            <h1 class="h4 fw-bold mb-1" style="color:#1558a1;">SafeRoads Navigator</h1>
            <div class="text-secondary mb-2">Create Account</div>
         </div>
         <form method="POST" action="/register" autocomplete="off">
            <div class="mb-3 text-start">
               <label for="username" class="form-label fw-semibold">Username</label>
               <input id="username" type="text" name="username" class="form-control form-control-lg rounded-3" required autofocus>
            </div>
            <div class="mb-3 text-start">
               <label for="email" class="form-label fw-semibold">Email</label>
               <input id="email" type="email" name="email" class="form-control form-control-lg rounded-3" required>
            </div>
            <div class="mb-3 text-start">
               <label for="phone" class="form-label fw-semibold">Phone</label>
               <input id="phone" type="tel" name="phone" class="form-control form-control-lg rounded-3" required>
            </div>
            <div class="mb-3 text-start">
               <label for="password" class="form-label fw-semibold">Password</label>
               <input id="password" type="password" name="password" class="form-control form-control-lg rounded-3" required>
            </div>
            <button class="btn btn-primary btn-lg w-100 rounded-3" type="submit">Create Account</button>
         </form>
         <div class="text-center mt-3">
            <small class="text-secondary">Already have an account? <a href="/" class="fw-semibold" style="color:#1558a1;">Sign In</a></small>
         </div>
         <div id="errorArea"></div>
         <script>
            // If user exists, show error message in errorArea
            const url = new URL(window.location);
            if (url.searchParams.get('error') === 'exists') {
               const error = document.createElement('div');
               error.className = "alert alert-danger mt-3 py-2";
               error.innerHTML = '<i class="bi bi-exclamation-circle me-2"></i>Username already exists.';
               document.getElementById('errorArea').appendChild(error);
            }
         </script>
      </div>
   </div>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.js"></script>
   </body>
</html>


<!-- Old Version
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>SafeRoads Navigator User Register</title>
      <link href="styles.css" rel="stylesheet"/>
   </head>
   <body>
      <div class="register-container">
         <h1>SafeRoads Navigator</h1>
         <h2>Create Account</h2>
         <form method="POST" action="/register">
            <div class="form-group">
            <label for="username">Username</label>
            <input id="username" type="text" name="username" required>
            </div>
            <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" name="email" required>
            </div>
            <div class="form-group">
            <label for="phone">Phone</label>
            <input id="phone" type="tel" name="phone" required>
            </div>
            <div class="form-group">
            <label for="password">Password</label>
            <input id="password" type="password" name="password" required>
            </div>
            <button class="btn" type="submit">Create Account</button>
         </form>
         <p class="login-link">Already have an account? <a href="/">Sign In</a></p>
         <script>
            const url = new URL(window.location);
            if (url.searchParams.get('error') === 'exists') {
            const error = document.createElement('p');
            error.textContent = 'Username already exists.';
            error.className = 'error-message';
            document.querySelector('.register-container').appendChild(error);
            }
         </script>
      </div>
   </body>
</html>
-->